#:kivy 1.0.9

<EmergScreen>:
    BoxLayout:
        orientation: 'vertical'
        canvas.before:
            Color:
                rgba: 1,1,1,1
            Rectangle:
                pos: self.pos
                size: self.size
        Header:
        BoxLayout:
            size_hint_y: .75
            orientation: 'horizontal'
            ScrollView:
                id: scroll_view
                scroll_type: ['bars','content']
                bar_width: '10dp'
                effect_cls: 'ScrollEffect'
                scroll_size: self.children[0].height
                BoxLayout:
                    padding: dp(20), 0
                    orientation: 'vertical'
                    size_hint_y: None
                    height: self.minimum_height
                    CustomSlider:
                        height: scroll_view.height
                        value: scroll_view.scroll_y
                        on_value: scroll_view.scroll_y = self.value
                    Label:
                        id: toc_var


                    BoxLayout:
                        orientation: 'vertical'
                        size_hint_y: 0.10
                        padding: 0
                        spacing: 0
                        canvas.before:
                            Color:
                                rgba: 216/255, 210/255, 227/255, 0.5
                            Rectangle:
                                pos: self.pos
                                size: self.size
                        Label:
                            size_hint_y: .02
                    BoxLayout:
                        orientation: 'horizontal'
                        size_hint_y: None
                        height: dp(40) * root.get_font_size()
                        #halign: "top"
                        padding: 0
                        spacing: 0    
                        RoundedRedButton:
                            text: "Sökord"
                            background_color: 227/255,210/255,210/255,1
                            color: 0,0,0,1
                            font_size: dp(35) * root.get_font_size()
                            on_press:
                                root.manager.transition.direction = 'right'
                                root.to_search()
                        Label:
                            size_hint_x:0.1
                        RoundedRedButton:
                            text: "SBAR"
                            background_color: 179/255, 173/255, 171/255, 1
                            color: 0,0,0,1
                            font_size: dp(35) * root.get_font_size()
                            on_press:
                                root.manager.transition.direction = 'right'
                                #root.to_search()

                    BoxLayout:
                        height: dp(50)* root.get_font_size()
                        size_hint: 1, None
                        orientation: 'horizontal'
                        SbarWhiteButton:
                            color: 0,0,0,1
                            font_name:"icon_font"
                            text: 'Patient ID ⓘ'
                            valign: "middle"
                            padding: dp(0), dp(10)
                            font_size: dp(20.6) * root.get_font_size()
                            size_hint: None, None
                            size: self.texture_size
                            on_press: root.show_p_id()
                        Label:
                    TextInput:
                        id: patientid
                        background_color: (227/255,210/255,210/255,1) if self.focus else (227/255,210/255,210/255,1)
                        background_normal: ''
                        foreground_color: .1, .1, .1, 1  # default text color
                        font_size: dp(30) * root.get_font_size()
                        hint_text: '' if self.focus else 'Börja skriva här...'
                        size_hint: 1,None
                        height: self.minimum_height
                        on_text: root.max_length_text(self.text)
                    BoxLayout:
                        height: dp(50)* root.get_font_size()
                        size_hint: 1, None
                        orientation: 'horizontal'
                        SbarWhiteButton:
                            color: 0,0,0,1
                            font_name:"icon_font"
                            text: 'Situation ⓘ'
                            valign: "middle"
                            padding: dp(0), dp(10)
                            font_size: dp(20.6) * root.get_font_size()
                            size_hint: None, None
                            size: self.texture_size
                            on_press: root.show_situation()
                        Label:
                    TextInput:
                        id: situation
                        background_color: (227/255,210/255,210/255,1) if self.focus else (227/255,210/255,210/255,1)
                        background_normal: ''
                        foreground_color: .1, .1, .1, 1  # default text color
                        font_size: dp(30) * root.get_font_size()
                        hint_text: '' if self.focus else 'Börja skriva här...'
                        size_hint: 1,None
                        height: self.minimum_height
                    BoxLayout:
                        height: dp(50)* root.get_font_size()
                        size_hint: 1, None
                        orientation: 'horizontal'
                        SbarWhiteButton:
                            color: 0,0,0,1
                            font_name:"icon_font"
                            text: 'Bakgrund ⓘ'
                            valign: "middle"
                            padding: dp(0), dp(10)
                            font_size: dp(20.6) * root.get_font_size()
                            size_hint: None, None
                            size: self.texture_size
                            on_press: root.show_bakgrund()
                        Label:
                    TextInput:
                        id: bakgrund
                        background_color: (227/255,210/255,210/255,1) if self.focus else (227/255,210/255,210/255,1)
                        background_normal: ''
                        foreground_color: .1, .1, .1, 1  # default text color
                        font_size: dp(30) * root.get_font_size()
                        hint_text: '' if self.focus else 'Börja skriva här...'
                        size_hint: 1,None
                        height: self.minimum_height
                    BoxLayout:
                        height: dp(50)* root.get_font_size()
                        size_hint: 1, None
                        orientation: 'horizontal'
                        SbarWhiteButton:
                            color: 0,0,0,1
                            font_name:"icon_font"
                            text: 'Aktuellt ⓘ'
                            valign: "middle"
                            padding: dp(0), dp(10)
                            font_size: dp(20.6) * root.get_font_size()
                            size_hint: None, None
                            size: self.texture_size
                            on_press: root.show_aktuellt()
                        Label:
                    BoxLayout:
                        height: dp(50)* root.get_font_size()
                        size_hint: 1, None
                        orientation: 'horizontal'
                        SbarWhiteButton:
                            color: 0,0,0,1
                            font_name:"icon_font"
                            text: 'S-Säkerhet ⓘ'
                            valign: "middle"
                            padding: dp(0), dp(10)
                            font_size: dp(20.6) * root.get_font_size()
                            size_hint: None, None
                            size: self.texture_size
                            on_press: root.show_safety()
                        Label:
                    TextInput:
                        id: safety
                        background_color: (227/255,210/255,210/255,1) if self.focus else (227/255,210/255,210/255,1)
                        background_normal: ''
                        foreground_color: .1, .1, .1, 1  # default text color
                        font_size: dp(30)* root.get_font_size()
                        hint_text: '' if self.focus else 'Börja skriva här...'
                        size_hint: 1,None
                        height: self.minimum_height
                    BoxLayout:
                        height: dp(50)* root.get_font_size()
                        size_hint: 1, None
                        orientation: 'horizontal'
                        SbarWhiteButton:
                            color: 0,0,0,1
                            font_name:"icon_font"
                            text: 'A-Luftväg ⓘ'
                            valign: "middle"
                            padding: dp(0), dp(10)
                            font_size: dp(20.6) * root.get_font_size()
                            size_hint: None, None
                            size: self.texture_size
                            on_press: root.show_airway()
                        Label:
                    TextInput:
                        id: air
                        background_color: (227/255,210/255,210/255,1) if self.focus else (227/255,210/255,210/255,1)
                        background_normal: ''
                        foreground_color: .1, .1, .1, 1  # default text color
                        font_size: dp(30)* root.get_font_size()
                        hint_text: '' if self.focus else 'Börja skriva här...'
                        size_hint: 1,None
                        height: self.minimum_height
                    BoxLayout:
                        height: dp(50)* root.get_font_size()
                        size_hint: 1, None
                        orientation: 'horizontal'
                        SbarWhiteButton:
                            color: 0,0,0,1
                            font_name:"icon_font"
                            text: 'B-Andning ⓘ'
                            valign: "middle"
                            padding: dp(0), dp(10)
                            font_size: dp(20.6) * root.get_font_size()
                            size_hint: None, None
                            size: self.texture_size
                            height: dp(50)
                            on_press: root.show_breathing()
                        Label:
                    TextInput:
                        id: breath
                        background_color: (227/255,210/255,210/255,1) if self.focus else (227/255,210/255,210/255,1)
                        background_normal: ''
                        foreground_color: .1, .1, .1, 1  # default text color
                        font_size: dp(30)* root.get_font_size()
                        hint_text: '' if self.focus else 'Börja skriva här...'
                        size_hint: 1,None
                        height: self.minimum_height
                    BoxLayout:
                        height: dp(50)* root.get_font_size()
                        size_hint: 1, None
                        orientation: 'horizontal'
                        SbarWhiteButton:
                            color: 0,0,0,1
                            font_name:"icon_font"
                            text: 'C-Cirkulation ⓘ'
                            valign: "middle"
                            padding: dp(0), dp(10)
                            font_size: dp(20.6) * root.get_font_size()
                            size_hint: None, None
                            size: self.texture_size
                            on_press: root.show_circulation()
                        Label:
                    TextInput:
                        id: circ
                        background_color: (227/255,210/255,210/255,1) if self.focus else (227/255,210/255,210/255,1)
                        background_normal: ''
                        foreground_color: .1, .1, .1, 1  # default text color
                        font_size: dp(30)* root.get_font_size()
                        hint_text: '' if self.focus else 'Börja skriva här...'
                        size_hint: 1,None
                        height: self.minimum_height
                    BoxLayout:
                        height: dp(50)* root.get_font_size()
                        size_hint: 1, None
                        orientation: 'horizontal'
                        SbarWhiteButton:
                            color: 0,0,0,1
                            font_name:"icon_font"
                            text: 'D-Medvetandegrad ⓘ'
                            valign: "middle"
                            padding: dp(0), dp(10)
                            font_size: dp(20.6) * root.get_font_size()
                            size_hint: None, None
                            size: self.texture_size
                            on_press: root.show_disability()
                        Label:
                    TextInput:
                        id: deg
                        background_color: (227/255,210/255,210/255,1) if self.focus else (227/255,210/255,210/255,1)
                        background_normal: ''
                        foreground_color: .1, .1, .1, 1  # default text color
                        font_size: dp(30)* root.get_font_size()
                        hint_text: '' if self.focus else 'Börja skriva här...'
                        size_hint: 1,None
                        height: self.minimum_height
                    BoxLayout:
                        height: dp(50)* root.get_font_size()
                        size_hint: 1, None
                        orientation: 'horizontal'
                        SbarWhiteButton:
                            color: 0,0,0,1
                            font_name:"icon_font"
                            text: 'E-Exponering ⓘ'
                            valign: "middle"
                            padding: dp(0), dp(10)
                            font_size: dp(20.6) * root.get_font_size()
                            size_hint: None, None
                            size: self.texture_size
                            on_press: root.show_exposure()
                        Label:
                    TextInput:
                        id: exposure
                        background_color: (227/255,210/255,210/255,1) if self.focus else (227/255,210/255,210/255,1)
                        background_normal: ''
                        foreground_color: .1, .1, .1, 1  # default text color
                        font_size: dp(30)* root.get_font_size()
                        hint_text: '' if self.focus else 'Börja skriva här...'
                        size_hint: 1,None
                        height: self.minimum_height
                    BoxLayout:
                        height: dp(50)* root.get_font_size()
                        size_hint: 1, None
                        orientation: 'horizontal'
                        SbarWhiteButton:
                            color: 0,0,0,1
                            font_name:"icon_font"
                            text: 'Rekomendation ⓘ'
                            valign: "middle"
                            padding: dp(0), dp(10)
                            font_size: dp(20.6) * root.get_font_size()
                            size_hint: None, None
                            size: self.texture_size
                            on_press: root.show_rekommendation()
                        Label:
                    TextInput:
                        id: reko
                        background_color: (227/255,210/255,210/255,1) if self.focus else (227/255,210/255,210/255,1)
                        background_normal: ''
                        foreground_color: .1, .1, .1, 1  # default text color
                        font_size: dp(30)* root.get_font_size()
                        hint_text: '' if self.focus else 'Börja skriva här...'
                        size_hint: 1,None
                        height: self.minimum_height
                    BoxLayout:
                        height: dp(50)* root.get_font_size()
                        size_hint: 1, None
                        orientation: 'horizontal'
                        SbarWhiteButton:
                            color: 0,0,0,1
                            font_name:"icon_font"
                            text: 'Övrigt ⓘ'
                            valign: "middle"
                            padding: dp(0), dp(10)
                            font_size: dp(20.6) * root.get_font_size()
                            size_hint: None, None
                            size: self.texture_size
                            on_press: root.show_extra_notes()
                        Label:
                    TextInput:
                        id: extra
                        background_color: (227/255,210/255,210/255,1) if self.focus else (227/255,210/255,210/255,1)
                        background_normal: ''
                        foreground_color: .1, .1, .1, 1  # default text color
                        font_size: dp(30)* root.get_font_size()
                        hint_text: '' if self.focus else 'Börja skriva här...'
                        size_hint: 1,None
                        height: self.minimum_height
                    Label:
                        size_hint: 1, None
                        height: 10
                    Label:
                        id: communication
                        font_size: dp(0)
                        size: self.texture_size
                    Label:
                        id: breathing
                        font_size: dp(0)
                        size: self.texture_size
                    Label:
                        id: circulation
                        font_size: dp(0)
                        size: self.texture_size
                    Label:
                        id: elimination
                        font_size: dp(0)
                        size: self.texture_size
                    Label:
                        id: pain
                        font_size: dp(0)
                        size: self.texture_size
                    Label:
                        id: activity
                        font_size: dp(0)
                        size: self.texture_size
                    Label:
                        id: sleep
                        font_size: dp(0)
                        size: self.texture_size
                    Label:
                        id: psycho
                        font_size: dp(0)
                    Label:
                        size: self.texture_size
                        size_hint: 1, None
                        height: dp(260)
        BoxLayout:
            orientation: 'vertical'
            size_hint_y: 0.1
            padding: 0
            spacing: 0
            canvas.before:
                Color:
                    rgba: 216/255, 210/255, 227/255, 0.5
                Rectangle:
                    pos: self.pos
                    size: self.size
            Label:
                size_hint_y: .02
            BoxLayout:
                orientation: 'horizontal'
                size_hint_y: None
                height: dp(40) * root.get_font_size()
                Label:
                RoundedRedButton:
                    text: "Back"
                    background_color: 227/255,210/255,210/255,1
                    color: 0,0,0,1
                    font_size: dp(35)* root.get_font_size()
                    on_press:
                        root.manager.transition.direction = 'right'
                        root.save_note()
                Label:
            Label:
                size_hint_y: .02
